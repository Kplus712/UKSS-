<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Gold Appreciation Certificate — UKSS</title>

<style>
  :root{
    --gold: #d4af37;
    --gold-dark: #b8860b;
    --text: #3b2f00;
  }

  body{
    margin:0;
    padding:20px;
    background:#faf6e8;
    font-family:"Georgia", serif;
  }

  .certificate{
    max-width:1000px;
    margin:auto;
    padding:40px 50px;
    background:white;
    border:12px double var(--gold);
    border-radius:15px;
    position:relative;
    overflow:hidden;
  }

  /* === WATERMARK (NECTA STYLE) === */
  .watermark{
    position:absolute;
    inset:0;
    display:flex;
    justify-content:center;
    align-items:center;
    opacity:0.08;
    z-index:0;
    pointer-events:none;
  }
  .watermark img{
    width:55%;
    filter:grayscale(100%);
  }

  /* === CORNER FLOWERS === */
  .corner{
    position:absolute;
    width:120px; height:120px;
    opacity:0.18;
    background-image:url('https://raw.githubusercontent.com/Kplus712/UKSS-/main/flowers.png');
    background-size:contain;
    background-repeat:no-repeat;
  }
  .c1{ top:10px; left:10px; }
  .c2{ top:10px; right:10px; transform:scaleX(-1); }
  .c3{ bottom:10px; left:10px; transform:rotate(-6deg); }
  .c4{ bottom:10px; right:10px; transform:scaleX(-1) rotate(-6deg); }

  /* === HEADER === */
  .header{
    display:flex;
    justify-content:space-between;
    align-items:center;
    border-bottom:4px double var(--gold-dark);
    padding-bottom:20px;
    position:relative;
    z-index:1;
  }

  .logo{
    width:120px;
  }
  .logo img{
    width:100%; height:100%; object-fit:contain;
  }

  .header-title{
    text-align:center;
    flex:1;
  }
  .header-title h2{
    margin:0;
    font-size:26px;
    color:var(--gold-dark);
    font-weight:bold;
  }
  .subtitle{
    font-size:14px;
    color:#7b6a32;
  }

  /* === TITLE === */
  .title-block{
    text-align:center;
    margin-top:25px;
    z-index:1;
    position:relative;
  }
  .title-block h1{
    margin:0;
    font-size:36px;
    color:var(--gold-dark);
    font-weight:900;
  }
  .title-block h2{
    margin-top:8px;
    font-style:italic;
    color:#6b5c2e;
  }

  /* BODY */
  .body-text{
    margin-top:25px;
    font-size:18px;
    line-height:1.7;
    z-index:1;
    position:relative;
  }

  /* TABLE */
  table{
    width:100%;
    margin-top:20px;
    font-size:18px;
    position:relative;
    z-index:1;
  }
  td{ padding:8px 6px; }
  .label{ font-weight:bold; width:200px; color:#5e4f1f; }

  /* SIGNATURE */
  .signature{
    margin-top:35px;
    display:flex;
    justify-content:space-between;
    align-items:center;
    z-index:1;
    position:relative;
  }

  .sign-box{ width:250px; }
  .sign-img img{ width:230px; height:100px; object-fit:contain; }

  /* ACTION BUTTONS */
  .actions{
    margin-top:30px;
    text-align:right;
  }
  .btn{
    padding:10px 18px;
    font-size:15px;
    border-radius:6px;
    cursor:pointer;
    margin-left:10px;
    border:none;
    font-weight:bold;
  }
  .btn-print{ background:var(--gold-dark); color:white; }
  .btn-back{ background:white; border:2px solid var(--gold-dark); color:var(--gold-dark); }

  @media print{
    .actions{ display:none; }
    body{ background:white; }
    .certificate{ border:12px double var(--gold-dark); }
  }
</style>

</head>
<body>

<div class="certificate">

  <div class="watermark">
    <img src="https://raw.githubusercontent.com/Kplus712/UKSS-/main/school_log.png">
  </div>

  <div class="corner c1"></div>
  <div class="corner c2"></div>
  <div class="corner c3"></div>
  <div class="corner c4"></div>

  <div class="header">
    <div class="logo"><img src="https://raw.githubusercontent.com/Kplus712/UKSS-/main/school_log.png"></div>

    <div class="header-title">
      <h2>UMOJA KING'ORI SECONDARY SCHOOL</h2>
      <p class="subtitle">Official Appreciation Certificate — Student Leadership</p>
    </div>

    <div class="logo"><img src="https://raw.githubusercontent.com/Kplus712/UKSS-/main/school_log.png"></div>
  </div>

  <div class="title-block">
    <h1>GOLD CERTIFICATE OF APPRECIATION</h1>
    <h2>Recognizing Excellence in Leadership</h2>
  </div>

  <div class="body-text" id="contentParagraph"></div>

  <table>
    <tr><td class="label">Student Name:</td><td id="studentName"></td></tr>
    <tr><td class="label">Position:</td><td id="positionName"></td></tr>
    <tr><td class="label">Class:</td><td id="studentClass"></td></tr>
    <tr><td class="label">Gender:</td><td id="studentGender"></td></tr>
    <tr><td class="label">Votes Received:</td><td id="votesCount"></td></tr>
    <tr><td class="label">Election Year:</td><td id="yearLabel"></td></tr>
  </table>

  <div class="signature">
    <div class="sign-box">
      <div class="sign-img">
        <img src="https://raw.githubusercontent.com/Kplus712/UKSS-/main/hm_sign.jpeg">
      </div>
      <b>Headmaster</b><br>Umoja King'ori Secondary School
    </div>

    <div style="text-align:right;">
      <div style="font-size:15px;">Date:</div>
      <div id="todayDate" style="font-size:19px; font-weight:bold;"></div>
    </div>
  </div>

  <div class="actions">
    <button class="btn btn-back" onclick="window.location.href='admin.html'">← Back</button>
    <button class="btn btn-print" onclick="window.print()">Print / Download</button>
  </div>

</div>

<script>
  function cleanPosition(pos){
    return pos
      .replace(/Boy$/i,"")
      .replace(/Girl$/i,"")
      .replace(/([A-Z])/g," $1")
      .replace(/\s+/g," ")
      .trim();
  }

  function getParams(){
    const p = new URLSearchParams(location.search);
    return {
      name: p.get("name") || "",
      position: cleanPosition(p.get("position") || ""),
      votes: p.get("votes") || "",
      class: p.get("class") || "",
      gender: p.get("gender") || "",
      year: p.get("year") || new Date().getFullYear()
    };
  }

  function fillLetter(){
    const p = getParams();

    document.getElementById("studentName").textContent = p.name;
    document.getElementById("positionName").textContent = p.position;
    document.getElementById("votesCount").textContent = p.votes;
    document.getElementById("studentClass").textContent = p.class;
    document.getElementById("studentGender").textContent = p.gender;
    document.getElementById("yearLabel").textContent = p.year;
    document.getElementById("todayDate").textContent = new Date().toLocaleDateString();

    document.getElementById("contentParagraph").innerHTML =
      `This certificate is proudly presented to <strong>${p.name}</strong> 
       for outstanding dedication and exemplary service as the 
       <strong>${p.position}</strong>. With <strong>${p.votes}</strong> votes in the 
       ${p.year} UKSS Elections, the school recognizes your discipline, leadership, 
       and commitment to excellence.`;
  }

  fillLetter();
</script>

</body>
</html>
