<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Appreciation Letter — UKSS</title>

<style>
  :root{
    --ukss-green: #265a2f;
    --soft-green: #e6f4e6;
    --text: #0b2b18;
    --accent: #6fbf73;
    --border-gold: #d4b46f;
  }

  body{
    margin:0;
    font-family:"Georgia", serif;
    background:linear-gradient(180deg, #f3fff3 0%, #e8ffe8 100%);
    padding:30px;
    color:var(--text);
  }

  .container{
    max-width:900px;
    margin:20px auto;
    background:white;
    border-radius:14px;
    box-shadow:0 0 30px rgba(0,0,0,0.10);
    border:10px solid var(--ukss-green);
    position:relative;
    overflow:hidden;
  }

  /* Decorative corners (flowers) */
  .corner-decoration{
    position:absolute;
    width:120px;
    height:120px;
    background:url('flowers.png') center/contain no-repeat;
    opacity:0.25;
  }
  .corner-top-left{ top:0; left:0; }
  .corner-top-right{ top:0; right:0; }
  .corner-bottom-left{ bottom:0; left:0; }
  .corner-bottom-right{ bottom:0; right:0; }

  /* Header section */
  .letter-header{
    padding:20px;
    display:flex;
    justify-content:space-between;
    align-items:center;
    border-bottom:4px double var(--ukss-green);
    background:var(--soft-green);
  }

  .school-logo{
    width:110px;
    height:110px;
    background:url('school_logo.png') center/contain no-repeat;
  }

  /* Title */
  .title-block{
    text-align:center;
    padding:20px 30px 5px;
  }
  .title-block h1{
    font-size:28px;
    margin:0;
    letter-spacing:1px;
    color:var(--ukss-green);
    text-transform:uppercase;
    font-weight:700;
    text-shadow:0 1px 2px rgba(0,0,0,0.2);
  }
  .title-block h2{
    margin:5px 0 0;
    font-style:italic;
    font-size:16px;
    color:#4d6e55;
  }

  /* Body */
  .letter-body{
    padding:30px 40px;
    line-height:1.7;
    font-size:17px;
    position:relative;
    z-index:2;
  }

  /* Info table */
  .info-table{
    width:100%;
    border-collapse:collapse;
    margin-top:20px;
  }
  .info-table td{
    padding:8px 4px;
    font-size:16px;
  }
  .info-table .label{
    font-weight:bold;
    width:200px;
    color:#3f6048;
  }

  /* Signature */
  .signature{
    margin-top:40px;
    display:flex;
    justify-content:space-between;
    align-items:center;
  }
  .signature-left{
    text-align:left;
  }
  .signature-img{
    width:140px;
    height:auto;
    margin-bottom:-10px;
    background:url('hm_sign.png') center/contain no-repeat;
  }
  .role{
    font-size:14px;
    color:#4a6b52;
  }

  /* Buttons */
  .actions{
    padding:20px;
    text-align:right;
    border-top:3px solid var(--soft-green);
    background:#fbfffb;
  }
  .btn{
    padding:10px 16px;
    border:none;
    border-radius:8px;
    font-weight:bold;
    cursor:pointer;
    margin-left:8px;
  }
  .btn-print{ background:var(--ukss-green); color:white; }
  .btn-back{ background:white; border:2px solid var(--ukss-green); color:var(--ukss-green); }
  .btn-download{ background:var(--accent); color:white; }

  @media print{
    body{ padding:0; background:white; }
    .actions{ display:none; }
    .container{ border:0; margin:0; border-radius:0; }
  }
</style>
</head>

<body>

<div class="container" id="letterContainer">

  <!-- Corner Decorations -->
  <div class="corner-decoration corner-top-left"></div>
  <div class="corner-decoration corner-top-right"></div>
  <div class="corner-decoration corner-bottom-left"></div>
  <div class="corner-decoration corner-bottom-right"></div>

  <!-- Header -->
  <div class="letter-header">
    <div class="school-logo"></div>
    <div style="text-align:center;">
      <h2 style="margin:0; color:var(--ukss-green); font-size:22px;">UMOJA KING'ORI SECONDARY SCHOOL</h2>
      <p style="margin:2px 0; color:#345840; font-size:13px;">"Excellence in Education, Unity & Discipline"</p>
      <p style="font-size:11px; color:#6a8f72;">Official Appreciation Letter</p>
    </div>
    <div class="school-logo"></div>
  </div>

  <!-- Title -->
  <div class="title-block">
    <h1>CERTIFICATE OF APPRECIATION</h1>
    <h2>Presented to an Outstanding Student Leader</h2>
  </div>

  <!-- Body -->
  <div class="letter-body">
    <p id="contentParagraph"></p>

    <table class="info-table">
      <tr><td class="label">Student Name:</td><td id="studentName">[Name]</td></tr>
      <tr><td class="label">Position:</td><td id="positionName">[headBoy/headGirl]</td></tr>
      <tr><td class="label">Class:</td><td id="studentClass">[Class]</td></tr>
      <tr><td class="label">Gender:</td><td id="studentGender">[Gender]</td></tr>
      <tr><td class="label">Votes Received:</td><td id="votesCount">[Votes]</td></tr>
      <tr><td class="label">Election Year:</td><td id="yearLabel">[Year]</td></tr>
    </table>

    <div class="signature">
      <div class="signature-left">
        <div class="signature-img"></div>
        <div class="role">Headmaster — UKSS</div>
      </div>
      <div>
        <div style="font-size:14px;color:#4a6b52">Date:</div>
        <div id="todayDate" style="font-weight:bold; font-size:15px; color:#295d3a"></div>
      </div>
    </div>

  </div>

  <div class="actions">
    <button class="btn btn-back" id="backToDashboard">← Back to Dashboard</button>
    <button class="btn btn-download" id="downloadPdf">Download PDF</button>
    <button class="btn btn-print" id="printBtn">Print</button>
  </div>

</div>

<script>
  function getParams(){
    const p = new URLSearchParams(location.search);
    return {
      name:p.get('name') || '',
      position:p.get('position') || '',
      votes:p.get('votes') || '',
      year:p.get('year') || new Date().getFullYear(),
      cls:p.get('class') || '',
      gender:p.get('gender') || ''
    };
  }

  function fillLetter(){
    const p = getParams();

    document.getElementById("studentName").textContent = p.name;
    document.getElementById("positionName").textContent = p.position;
    document.getElementById("votesCount").textContent = p.votes;
    document.getElementById("yearLabel").textContent = p.year;
    document.getElementById("studentClass").textContent = p.cls;
    document.getElementById("studentGender").textContent = p.gender;
    document.getElementById("todayDate").textContent = new Date().toLocaleDateString();

    const text = `
      This certificate is proudly presented to <strong>${p.name}</strong>
      in recognition of outstanding leadership and exemplary service as the elected
      <strong>${p.position}</strong> of Umoja King'ori Secondary School. With a total of
      <strong>${p.votes}</strong> votes in the ${p.year} student elections, we honour your
      commitment, integrity, and dedication to guiding and representing your fellow students.
      May your leadership journey continue to inspire confidence, unity, and excellence.
    `;

    document.getElementById("contentParagraph").innerHTML = text;
  }

  document.getElementById("printBtn").onclick = () => window.print();
  document.getElementById("downloadPdf").onclick = () => window.print();
  document.getElementById("backToDashboard").onclick = () => location.href="admin.html";

  fillLetter();
</script>

</body>
</html>

