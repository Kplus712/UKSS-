<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Gold Appreciation Certificate — UKSS</title>

<style>
  :root{
    --gold: #d4af37;
    --gold-dark: #b8860b;
    --gold-soft: #fff7d6;
    --text: #3b2f00;
  }

  body{
    margin:0;
    padding:30px;
    background:linear-gradient(180deg,#fff9e9,#fffdf7);
    font-family:"Georgia", serif;
    color:var(--text);
  }

  .certificate{
    max-width:1000px;
    margin:auto;
    background:white;
    padding:35px 45px;
    border-radius:20px;
    border:12px double var(--gold);
    box-shadow:0 0 25px rgba(0,0,0,0.18);
    position:relative;
  }

  /* GOLD CORNERS */
  .gold-corner{
    position:absolute;
    width:120px;
    height:120px;
    opacity:0.18;
    background-image:url('https://raw.githubusercontent.com/Kplus712/UKSS-/main/flowers.png');
    background-size:contain;
    background-repeat:no-repeat;
  }

  .top-left{ top:10px; left:10px; }
  .top-right{ top:10px; right:10px; transform:scaleX(-1); }
  .bottom-left{ bottom:10px; left:10px; transform:rotate(-4deg); }
  .bottom-right{ bottom:10px; right:10px; transform:scaleX(-1) rotate(-4deg); }

  /* HEADER */
  .header{
    display:flex;
    justify-content:space-between;
    align-items:center;
    padding-bottom:18px;
    border-bottom:5px double var(--gold-dark);
  }

  .logo{
    width:120px;
    height:120px;
  }
  .logo img{
    width:100%;
    height:100%;
    object-fit:contain;
  }

  .head-text{
    text-align:center;
    flex:1;
  }

  .head-text h2{
    margin:0;
    font-size:24px;
    font-weight:bold;
    color:var(--gold-dark);
    letter-spacing:1px;
  }

  .subtitle{
    color:#7a6f40;
    font-size:14px;
  }

  /* TITLE */
  .title-block{
    text-align:center;
    margin-top:25px;
  }

  .title-block h1{
    font-size:34px;
    color:var(--gold-dark);
    margin:0;
    font-weight:900;
  }

  .title-block h2{
    margin-top:8px;
    font-style:italic;
    color:#6b5c2e;
  }

  /* CONTENT */
  .body-text{
    margin-top:25px;
    font-size:18px;
    line-height:1.7;
  }

  /* INFO TABLE */
  .info-table{
    margin-top:20px;
    width:100%;
    border-collapse:collapse;
  }

  .info-table td{
    padding:10px;
    font-size:17px;
  }

  .label{
    width:200px;
    font-weight:bold;
    color:#6b5c2e;
  }

  /* SIGNATURE SECTION */
  .signature{
    margin-top:40px;
    display:flex;
    justify-content:space-between;
    align-items:center;
  }

  .sign-box{
    width:240px;
    text-align:left;
  }

  .sign-img{
    width:230px;
    height:95px;
  }
  .sign-img img{
    width:100%;
    height:100%;
    object-fit:contain;
  }

  .actions{
    margin-top:35px;
    text-align:right;
  }

  .btn{
    padding:10px 16px;
    font-size:15px;
    border-radius:6px;
    border:none;
    margin-left:10px;
    cursor:pointer;
    font-weight:bold;
  }

  .btn-print{
    background:var(--gold);
    color:white;
  }

  .btn-download{
    background:var(--gold-dark);
    color:white;
  }

  .btn-back{
    background:white;
    border:2px solid var(--gold);
    color:var(--gold-dark);
  }

  @media print{
    .actions{ display:none; }
    body{ padding:0; background:white; }
    .certificate{ border:10px double var(--gold-dark); }
  }
</style>

</head>
<body>

<div class="certificate">

  <!-- GOLD CORNERS -->
  <div class="gold-corner top-left"></div>
  <div class="gold-corner top-right"></div>
  <div class="gold-corner bottom-left"></div>
  <div class="gold-corner bottom-right"></div>

  <!-- HEADER -->
  <div class="header">
      <div class="logo">
        <img src="https://raw.githubusercontent.com/Kplus712/UKSS-/main/school_log.png">
      </div>

      <div class="head-text">
        <h2>UMOJA KING'ORI SECONDARY SCHOOL</h2>
        <p class="subtitle">Official Appreciation Certificate — Student Leadership</p>
      </div>

      <div class="logo">
        <img src="https://raw.githubusercontent.com/Kplus712/UKSS-/main/school_log.png">
      </div>
  </div>

  <!-- TITLE -->
  <div class="title-block">
    <h1>GOLD CERTIFICATE OF APPRECIATION</h1>
    <h2>Awarded for Exceptional Leadership</h2>
  </div>

  <!-- BODY -->
  <div class="body-text" id="contentParagraph"></div>

  <!-- TABLE -->
  <table class="info-table">
    <tr><td class="label">Student Name:</td><td id="studentName"></td></tr>
    <tr><td class="label">Position:</td><td id="positionName"></td></tr>
    <tr><td class="label">Class:</td><td id="studentClass"></td></tr>
    <tr><td class="label">Gender:</td><td id="studentGender"></td></tr>
    <tr><td class="label">Votes Received:</td><td id="votesCount"></td></tr>
    <tr><td class="label">Election Year:</td><td id="yearLabel"></td></tr>
  </table>

  <!-- SIGNATURE -->
  <div class="signature">

    <div class="sign-box">
      <div class="sign-img">
        <img src="https://raw.githubusercontent.com/Kplus712/UKSS-/main/hm_sign.jpeg">
      </div>
      <div style="font-size:15px;">
        <b>Headmaster</b><br>Umoja King'ori Secondary School
      </div>
    </div>

    <div style="text-align:right;">
      <div style="font-size:15px;color:#6b5c2e;">Date:</div>
      <div id="todayDate" style="font-size:20px;font-weight:bold;"></div>
    </div>
  </div>

  <!-- ACTION BUTTONS -->
  <div class="actions">
    <button class="btn btn-back" onclick="window.location.href='admin.html'">← Back</button>
    <button class="btn btn-download" onclick="window.print()">Download PDF</button>
    <button class="btn btn-print" onclick="window.print()">Print</button>
  </div>

</div>

<script>
  // CLEAN POSITION TEXT
  function cleanPosition(pos){
    return pos
      .replace(/Boy$/i, "")
      .replace(/Girl$/i, "")
      .replace(/([A-Z])/g, " $1")
      .replace(/\s+/g, " ")
      .trim();
  }

  function getParams(){
    const p = new URLSearchParams(window.location.search);
    return {
      name: p.get("name") || "",
      position: cleanPosition(p.get("position") || ""),
      votes: p.get("votes") || "",
      class: p.get("class") || "",
      gender: p.get("gender") || "",
      year: p.get("year") || new Date().getFullYear()
    };
  }

  function fillLetter(){
    const p = getParams();

    document.getElementById("studentName").textContent = p.name;
    document.getElementById("positionName").textContent = p.position;
    document.getElementById("votesCount").textContent = p.votes;
    document.getElementById("studentClass").textContent = p.class;
    document.getElementById("studentGender").textContent = p.gender;
    document.getElementById("yearLabel").textContent = p.year;
    document.getElementById("todayDate").textContent = new Date().toLocaleDateString();

    document.getElementById("contentParagraph").innerHTML = `
      This Gold Certificate is proudly presented to <strong>${p.name}</strong> for outstanding dedication,
      commitment and exemplary performance as the <strong>${p.position}</strong>.
      With a total of <strong>${p.votes}</strong> votes in the ${p.year} UKSS elections, the school
      celebrates your leadership, discipline and integrity.
    `;
  }

  fillLetter();
</script>

</body>
</html>
