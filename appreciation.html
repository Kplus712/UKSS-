<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Appreciation Letter — UKSS</title>

<style>
  :root{
    --ukss-green: #265a2f;
    --soft-green: #e6f4e6;
    --text: #0b2b18;
    --accent: #6fbf73;
  }

  body{
    margin:0;
    font-family:"Georgia", serif;
    background:linear-gradient(180deg,#f3fff3,#e8ffe8);
    padding:30px;
    color:var(--text);
  }

  .container{
    max-width:920px;
    margin:20px auto;
    background:white;
    border-radius:14px;
    box-shadow:0 0 30px rgba(0,0,0,0.12);
    border:10px solid var(--ukss-green);
    position:relative;
    overflow:hidden;
  }

  /* corner flowers */
  .corner-decoration{
    position:absolute;
    width:140px;
    height:140px;
    background-image:url('flowers.png');
    background-size:contain;
    background-repeat:no-repeat;
    opacity:0.16;
    pointer-events:none;
  }
  .corner-top-left{ top:8px; left:8px; transform:rotate(5deg); }
  .corner-top-right{ top:8px; right:8px; transform:scaleX(-1); }
  .corner-bottom-left{ bottom:8px; left:8px; transform:rotate(-6deg); }
  .corner-bottom-right{ bottom:8px; right:8px; transform:scaleX(-1) rotate(-4deg); }

  .letter-header{
    padding:18px;
    display:flex;
    justify-content:space-between;
    align-items:center;
    border-bottom:4px double var(--ukss-green);
    background:var(--soft-green);
    gap:12px;
  }

  .logo-wrap{
    width:120px;
    height:120px;
  }
  .logo-wrap img{
    width:100%;
    height:100%;
    object-fit:contain;
  }

  .header-center{
    text-align:center;
    flex:1;
  }
  .header-center h2{
    margin:0;
    color:var(--ukss-green);
    font-size:22px;
    letter-spacing:1px;
  }

  .title-block{
    text-align:center;
    padding:25px;
  }
  .title-block h1{
    margin:0;
    color:var(--ukss-green);
    font-size:30px;
    letter-spacing:1px;
    font-weight:700;
  }

  .letter-body{
    padding:30px 40px;
    font-size:18px;
    line-height:1.7;
  }

  .info-table{
    width:100%;
    margin-top:25px;
    border-collapse:collapse;
  }
  .info-table td{
    padding:9px 6px;
    font-size:16px;
  }
  .label{
    font-weight:700;
    width:200px;
    color:#3f6048;
  }

  /* signature */
  .signature{
    margin-top:45px;
    display:flex;
    justify-content:space-between;
    align-items:center;
  }

  .sign-col{
    text-align:left;
  }

  .signature-img{
    width:200px;
    height:85px;
  }
  .signature-img img{
    width:100%;
    height:100%;
    object-fit:contain;
  }

  .role{
    font-size:14px;
    margin-top:4px;
    color:#4a6b52;
  }

  .actions{
    padding:18px;
    text-align:right;
    background:#f9fff9;
    border-top:4px double var(--soft-green);
  }

  .btn{
    padding:10px 14px;
    font-weight:bold;
    border-radius:7px;
    margin-left:8px;
    cursor:pointer;
  }

  .btn-print{ background:var(--ukss-green); color:white; border:none; }
  .btn-download{ background:var(--accent); color:white; border:none; }
  .btn-back{ background:white; border:2px solid var(--ukss-green); color:var(--ukss-green); }

  @media print{
    .actions{ display:none; }
    body{ background:white; padding:0; }
    .container{ border:none; }
  }
</style>
</head>

<body>

<div class="container">

  <!-- Decorative corners -->
  <div class="corner-decoration corner-top-left"></div>
  <div class="corner-decoration corner-top-right"></div>
  <div class="corner-decoration corner-bottom-left"></div>
  <div class="corner-decoration corner-bottom-right"></div>

  <!-- HEADER -->
  <div class="letter-header">

    <div class="logo-wrap">
      <img src="https://github.com/Kplus712/UKSS-/blob/5411d2a02f3b4ad5a141a694f0144ae9b66bca33/hm_sign.png/hm_sign.png.jpeg" alt="School Logo Left">
    </div>

    <div class="header-center">
      <h2>UMOJA KING'ORI SECONDARY SCHOOL</h2>
      <p style="font-size:13px;color:#345840;">Official Appreciation Letter — Student Leadership</p>
    </div>

    <div class="logo-wrap">
      <img src="https://github.com/Kplus712/UKSS-/blob/5411d2a02f3b4ad5a141a694f0144ae9b66bca33/hm_sign.png/hm_sign.png.jpeg" alt="School Logo Right">
    </div>

  </div>

  <!-- TITLE -->
  <div class="title-block">
    <h1>CERTIFICATE OF APPRECIATION</h1>
    <h2 style="color:#4d6e55;font-style:italic;">Presented to an Outstanding Student Leader</h2>
  </div>

  <!-- BODY -->
  <div class="letter-body">

    <p id="contentParagraph"></p>

    <table class="info-table">
      <tr><td class="label">Student Name:</td><td id="studentName"></td></tr>
      <tr><td class="label">Position:</td><td id="positionName"></td></tr>
      <tr><td class="label">Class:</td><td id="studentClass"></td></tr>
      <tr><td class="label">Gender:</td><td id="studentGender"></td></tr>
      <tr><td class="label">Votes Received:</td><td id="votesCount"></td></tr>
      <tr><td class="label">Election Year:</td><td id="yearLabel"></td></tr>
    </table>

    <!-- SIGNATURE -->
    <div class="signature">

      <div class="sign-col">
        <div class="signature-img">
          <img src="https://github.com/Kplus712/UKSS-/blob/dc4c0ad77558658c17ebff2bec50af0c5dc3d940/hm_sign.png/hm_sign.png.jpeg" alt="Headmaster Signature">
        </div>
        <div class="role">
          <b>Headmaster</b><br>Umoja King'ori Secondary School
        </div>
      </div>

      <div style="text-align:right;">
        <div style="font-size:14px;color:#5a7a5b;">Date:</div>
        <div id="todayDate" style="font-size:18px;font-weight:700;color:#3f6a4f;"></div>
      </div>

    </div>

  </div>

  <!-- ACTION BUTTONS -->
  <div class="actions">
    <button class="btn btn-back" onclick="window.location.href='admin.html'">← Back</button>
    <button class="btn btn-download" onclick="window.print()">Download PDF</button>
    <button class="btn btn-print" onclick="window.print()">Print</button>
  </div>

</div>

<script>
  function getParams(){
    const p = new URLSearchParams(window.location.search);
    return {
      name: p.get("name") || "",
      position: p.get("position") || "",
      votes: p.get("votes") || "",
      class: p.get("class") || "",
      gender: p.get("gender") || "",
      year: p.get("year") || new Date().getFullYear()
    };
  }

  function fillLetter(){
    const p = getParams();

    document.getElementById("studentName").textContent = p.name;
    document.getElementById("positionName").textContent = p.position;
    document.getElementById("votesCount").textContent = p.votes;
    document.getElementById("studentClass").textContent = p.class;
    document.getElementById("studentGender").textContent = p.gender;
    document.getElementById("yearLabel").textContent = p.year;
    document.getElementById("todayDate").textContent = new Date().toLocaleDateString();

    document.getElementById("contentParagraph").innerHTML = `
      This certificate is proudly presented to <strong>${p.name}</strong> in recognition of
      exceptional service, responsibility, and integrity as the <strong>${p.position}</strong>.
      With a total of <strong>${p.votes}</strong> votes in the <strong>${p.year}</strong> UKSS Elections,
      the school appreciates your commitment, discipline, and exemplary leadership.
    `;
  }

  fillLetter();
</script>

</body>
</html>
